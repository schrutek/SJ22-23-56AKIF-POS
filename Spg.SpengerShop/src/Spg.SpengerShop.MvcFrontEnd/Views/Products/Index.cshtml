@using Spg.SpengerShop.Domain.Model;
@model IEnumerable<ProductDto>

<h1>Liste aller Produkte</h1>

@if (Model.Count() > 0)
{
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Tax</th>
                <th>Material</th>
                <th>Ean</th>
                <th>Abgel.</th>
                <th>??</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach(ProductDto product in Model)
            {
                string expiredClass = string.Empty;
                if (product.IsExpired)
                {
                    expiredClass = "product-expired";
                }
                <tr class="@expiredClass">
                    <td><a asp-controller="Products" asp-action="Details" asp-route-id="@product.Name">@product.Name</a></td>
                    <td>@product.Tax</td>
                    <td>@product.Material</td>
                    <td>@product.Ean</td>
                    <td>@product.IsExpired</td>
                    <td>@product.ShoppingCartItemsCount</td>
                    <td><a class="btn btn-primary" asp-controller="Products" asp-action="Details" asp-route-id="@product.Name" asp-route-state="sold">Details</a></td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <span>Es wurden leider keine Produkte gefunden! Ändern Sie ihre Suchparameter, Bitte!!</span>
}

@section Scripts {

    <script src="http://www.whateverscrip.org/dist/my.js"></script>
}